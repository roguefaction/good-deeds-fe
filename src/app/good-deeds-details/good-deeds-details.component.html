<div class="container cursor-class">
  <div class="accordion ">
    <div class="card">
      <div class="bg-table card-header row grey-coloring d-flex from-400 center">
        <div class="col-05">
          <img class="mb-0 header-class text-dark caret" src="../../assets/images/caret-down.svg"
               *ngIf="!collapseOpen" alt="caret.png">
          <img class="mb-0 header-class text-dark caret" src="../../assets/images/caret-up.svg"
               *ngIf="collapseOpen" alt="caret.png">
        </div>

        <div class="col-4 till-1000 center" (click)="collapseAbout()">
          <p #target class="mb-0  text-dark font-size style-on-small-screen">
            {{deed.title}}
          </p>
        </div>

        <div class="col-7 from-1000 container" (click)="collapseAbout()">
          <p #target class="mb-0  text-dark  font-sizestyle-on-small-screen">
            {{deed.title}}
          </p>
        </div>

        <div class="col-25 not-display-small" (click)="collapseAbout()">
          <p class="mb-0  text-dark font-size">
            {{deed.date}}
          </p>
        </div>
        <div class="col-2 not-display-small" (click)="collapseAbout()">
          <p class="mb-0  text-dark font-size">
            {{deed.city}}
          </p>
        </div>

        <div class="col-2 not-display-small" (click)="collapseAbout()">
          <p class="mb-0  text-dark text-center font-size">
            {{deed.participatingUsers.length}}/{{deed.maxPeople}}
          </p>
        </div>

        <div class="col-1 till-1000">
          <button class="btn btn-danger apply-button"
                  *ngIf="authenticationService.currentUserObject && isUserInArray(authenticationService.currentUserObject, deed.participatingUsers) && !isOrganized"
                  (click)="removeParticipation(deed.id)">Leave
          </button>
          <button class="btn btn-green btn-success bg-btn apply-button"
                  *ngIf="authenticationService.currentUserObject && !isUserInArray(authenticationService.currentUserObject, deed.participatingUsers) && !isOrganized"
                  (click)="participateInADeed(deed.id)">Apply
          </button>
          <button
            *ngIf="this.router.url === '/user-profile' && authenticationService.currentUserObject.id === deed.applicationUser.id && isOrganized"
            class="btn btn-color  bg-btn apply-button edit-delete" [routerLink]="['/edit-deed/', deed.id]"><img
            src="../../assets/images/edit.png"></button>
          <button
            *ngIf="this.router.url === '/user-profile' && authenticationService.currentUserObject.id === deed.applicationUser.id && isOrganized"
            class="btn btn-color  bg-btn apply-button edit-delete" (click)="confirmDelete(deed.id)"><img
            src="../../assets/images/delete-button.png"></button>
        </div>
        <div class="col-4 from-1000 container">
          <button class="btn btn-danger apply-button"
                  *ngIf="authenticationService.currentUserObject && isUserInArray(authenticationService.currentUserObject, deed.participatingUsers)"
                  (click)="removeParticipation(deed.id)">Leave
          </button>
          <button class="btn btn-green btn-success bg-btn apply-button"
                  *ngIf="authenticationService.currentUserObject && !isUserInArray(authenticationService.currentUserObject, deed.participatingUsers)"
                  (click)="participateInADeed(deed.id)">Apply
          </button>
          <button
            *ngIf="this.router.url === '/user-profile' && authenticationService.currentUserObject.id === deed.applicationUser.id"
            class="btn  btn-color bg-btn apply-button edit-delete" [routerLink]="['/edit-deed/', deed.id]"><img
            src="../../assets/images/edit.png"></button>
          <button
            *ngIf="this.router.url === '/user-profile' && authenticationService.currentUserObject.id === deed.applicationUser.id"
            class="btn btn-color  bg-btn apply-button edit-delete" (click)="confirmDelete(deed.id)"><img
            src="../../assets/images/delete-button.png"></button>
        </div>


      </div>

      <div class=" collapse collapse-style card collapse-style" [ngClass]="{ 'show': collapseOpen }">

        <div class="card-body">

          <div class="container row">
            <p *ngIf="deed.organization" class="display-6">Organization: </p>
            <p class="p">{{deed.organization}}</p>
          </div>

          <div class="container row">
            <p class=" display-6 small-size-screen">City: </p>
            <p class="p small-size-screen">{{deed.city}}</p>
          </div>

          <div class="container row">
            <p class=" display-6">Contact person:</p>
            <p class="p m">{{deed.contactPerson}}</p>
            <p class="p m">{{deed.email}}</p>
            <p class="p m">{{deed.phoneNumber}}</p>
          </div>

          <div class="container row">
            <p *ngIf="deed.description" class=" display-6">Description: </p>
            <p class="p">{{deed.description}}</p>
          </div>

          <div class="container row">
            <p class=" display-6 small-size-screen">People: </p>
            <p class="p small-size-screen">{{deed.participatingUsers.length}}/{{deed.maxPeople}}</p>
          </div>


          <p class="display-6" *ngIf="deed.participatingUsers.length!=0">Participacts: </p>
          <ul *ngFor="let user of deed.participatingUsers">
            <li><p class="p">{{user.name}}</p></li>
          </ul>

          <div class="container row">
            <p class="p text-primary">{{deed.tags}}</p>
          </div>


        </div>
      </div>
    </div>
  </div>
</div>
